# ASA UI server

Server is a koa app with mongoose and an Apollo server Graphql endpoint serving on `/api/graphql`.

## Organisation of `src/`

- `mongo`: mongoose models
- `graphql`: graphql schema
- `services`: connection to external services (ASA API)

## GraphQL Schema

- schema definitions in `schema/*.ts` files
- resolvers in `resolvers/*.ts` files
- autogenerated types in `resolvers/resolver-types.d.ts`

To regenerate the types after a schema has been modified run:

- `npm run update-resolver-types`

Config is in file `codegen.yml`, and has mappings for Graphql Types to Mongoose documents and custom scalars.
